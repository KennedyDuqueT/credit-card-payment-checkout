# Payment Checkout Mobile App

Una aplicaciÃ³n mÃ³vil desarrollada con **React Native** y **TypeScript** para procesar pagos con tarjetas de crÃ©dito. Incluye un flujo completo de checkout con carrito de compras, validaciÃ³n de tarjetas y procesamiento de pagos.

## ğŸš€ CaracterÃ­sticas

- **Framework**: React Native 0.82 con TypeScript
- **Estado**: Redux Toolkit con Redux Persist
- **NavegaciÃ³n**: React Navigation v7
- **ValidaciÃ³n**: ValidaciÃ³n completa de tarjetas de crÃ©dito
- **UI/UX**: DiseÃ±o moderno y responsivo
- **Arquitectura**: Flux Architecture con separaciÃ³n de responsabilidades

## ğŸ“± Pantallas

### 1. SplashScreen
- Pantalla de carga inicial
- Logo y branding de la aplicaciÃ³n
- NavegaciÃ³n automÃ¡tica al Home

### 2. HomeScreen
- Lista de productos disponibles
- Vista de grid responsiva (2 columnas)
- Carrito flotante con contador
- Botones de cantidad dinÃ¡micos
- Formato de precios con separadores

### 3. ProductDetailScreen
- Detalle completo del producto
- InformaciÃ³n de stock
- Botones de acciÃ³n (Agregar al carrito, Ver carrito)
- Imagen del producto en alta resoluciÃ³n

### 4. CartScreen
- Lista de productos en el carrito
- Controles de cantidad (+/-)
- BotÃ³n de eliminar producto
- CÃ¡lculo automÃ¡tico del total
- BotÃ³n de proceder al pago

### 5. PaymentFormScreen
- Formulario de informaciÃ³n personal
- Formulario de tarjeta de crÃ©dito
- ValidaciÃ³n en tiempo real
- Manejo inteligente del teclado
- Formato automÃ¡tico de nÃºmero de tarjeta

### 6. PaymentSummaryScreen
- Resumen de productos
- InformaciÃ³n de pago
- Detalles de la tarjeta (enmascarados)
- BotÃ³n de confirmar pago
- Indicador de carga

### 7. TransactionResultScreen
- Resultado de la transacciÃ³n
- Detalles completos del pago
- InformaciÃ³n del producto
- BotÃ³n para continuar comprando

## ğŸ“‹ Requisitos

- Node.js >= 20
- React Native CLI
- Android Studio (para Android)
- Xcode (para iOS)
- Dispositivo Android/iOS o emulador

## ğŸ› ï¸ InstalaciÃ³n

1. **Clonar el repositorio**:
```bash
git clone <repository-url>
cd app-wompi/mobile
```

2. **Instalar dependencias**:
```bash
npm install
```

3. **Configurar variables de entorno**:
```bash
cp env.example .env
```

Editar el archivo `.env`:
```env
# API Configuration
API_BASE_URL=http://192.168.1.7:3001
```

4. **Configurar Android**:
```bash
# AsegÃºrate de que Android Studio estÃ© instalado
# Configura el SDK de Android
# Conecta un dispositivo Android o inicia un emulador
```

## ğŸš€ Uso

### Desarrollo

#### Android
```bash
# Iniciar Metro bundler
npm start

# En otra terminal, ejecutar en Android
npm run android
```

### ProducciÃ³n

#### Android APK
```bash
cd android
./gradlew assembleRelease
```

## ğŸ—ï¸ Arquitectura

### Estructura del Proyecto
```
src/
â”œâ”€â”€ components/      # Componentes reutilizables
â”‚   â”œâ”€â”€ FloatingCart.tsx
â”‚   â””â”€â”€ ProductQuantityButton.tsx
â”œâ”€â”€ constants/       # Constantes y configuraciÃ³n
â”œâ”€â”€ navigation/      # ConfiguraciÃ³n de navegaciÃ³n
â”œâ”€â”€ screens/         # Pantallas de la aplicaciÃ³n
â”‚   â”œâ”€â”€ SplashScreen/
â”‚   â”œâ”€â”€ HomeScreen/
â”‚   â”œâ”€â”€ ProductDetailScreen/
â”‚   â”œâ”€â”€ CartScreen/
â”‚   â”œâ”€â”€ PaymentFormScreen/
â”‚   â”œâ”€â”€ PaymentSummaryScreen/
â”‚   â””â”€â”€ TransactionResultScreen/
â”œâ”€â”€ services/        # Servicios de API
â”œâ”€â”€ store/          # Redux store y slices
â”œâ”€â”€ types/          # Tipos TypeScript
â”œâ”€â”€ utils/          # Utilidades
â””â”€â”€ App.tsx         # Componente principal
```

### Arquitectura Flux

#### Store (Redux)
```typescript
interface AppState {
  products: Product[];
  cart: CartItem[];
  transactions: Transaction[];
  loading: boolean;
  error: string | null;
}
```

#### Actions
- `fetchProducts()` - Obtiene productos del backend
- `addToCart(product)` - Agrega producto al carrito
- `removeFromCart(productId)` - Elimina producto del carrito
- `updateCartQuantity({productId, quantity})` - Actualiza cantidad
- `decreaseCartQuantity(product)` - Decrementa cantidad
- `processPayment(paymentData)` - Procesa pago
- `setCurrentTransaction(transaction)` - Establece transacciÃ³n actual

#### Reducers
- `productsSlice` - Maneja estado de productos
- `cartSlice` - Maneja estado del carrito
- `transactionsSlice` - Maneja estado de transacciones

### Componentes

#### FloatingCart
- Carrito flotante que aparece cuando hay productos
- Muestra contador de items
- Navega a CartScreen al tocar

#### ProductQuantityButton
- Botones de cantidad para productos en el carrito
- Incrementa/decrementa cantidad
- Elimina producto si cantidad llega a 0

## ğŸ”§ Funcionalidades

### ValidaciÃ³n de Tarjetas
- **NÃºmero de tarjeta**: ValidaciÃ³n Luhn y formato
- **CVV**: 3-4 dÃ­gitos segÃºn tipo de tarjeta
- **Fecha de expiraciÃ³n**: ValidaciÃ³n de mes/aÃ±o
- **Tipo de tarjeta**: DetecciÃ³n automÃ¡tica (Visa, Mastercard, Amex)

### Formato AutomÃ¡tico
- **NÃºmero de tarjeta**: Espacios cada 4 dÃ­gitos
- **Mes**: Agrega 0 inicial si es necesario
- **Precios**: Separadores de miles

### Manejo del Teclado
- **KeyboardAvoidingView**: Ajuste automÃ¡tico por plataforma
- **ScrollView**: NavegaciÃ³n fluida por formularios
- **TouchableWithoutFeedback**: Cerrar teclado tocando fuera

### Persistencia
- **Redux Persist**: Estado persistente entre sesiones
- **AsyncStorage**: Almacenamiento local seguro

## ğŸ¨ UI/UX

### DiseÃ±o
- **Colores**: Paleta profesional y moderna
- **TipografÃ­a**: JerarquÃ­a clara y legible
- **Espaciado**: Sistema de espaciado consistente
- **Bordes**: Radio de bordes uniforme

### Responsividad
- **Grid**: 2 columnas en pantallas grandes
- **SafeArea**: Manejo correcto de Ã¡reas seguras
- **Scroll**: Scroll suave y natural

### Interacciones
- **Feedback**: Respuesta visual a interacciones
- **Animaciones**: Transiciones suaves
- **Estados**: Loading, error, success states

## ğŸ“ Scripts Disponibles

- `npm start` - Inicia Metro bundler
- `npm run android` - Ejecuta en Android
- `npm run ios` - Ejecuta en iOS
- `npm run lint` - Ejecuta ESLint
- `npm run build:android` - Build para Android
- `npm run build:ios` - Build para iOS